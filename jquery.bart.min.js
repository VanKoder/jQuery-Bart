/*
 * jQuery Bart: Annoyification plugin - v0.1 - 08/21/2011
 * http://www.vankoder.com/
 * 
 * Copyright (c) 2011 Don Burks
 * Dual licensed under the MIT and GPL licenses.
 *
 */

(function(c){var n={type:"bubble",style:"error",vposition:"bottom",hposition:"right",slide:"vertical",opacity:"0.8",easing:"linear",duration:3E3,speed:600,title:"D'oh!",message:"Cowabunga",sticky:!1,imgDir:"images/",css:{},animate:!0,callback:function(){}},a={},g,b,j,h,k,e,f,d={},l=function(a){var b=a.attr("class"),c=/^bart_/;if(b!=void 0){var b=b.split(" "),d;for(d in b)c.test(b[d])&&a.removeClass(b[d])}},m=function(){if(b.css("opacity")>0)a.slide=="vertical"?d[a.vposition]="-"+e:d[a.hposition]=
"-"+f,d.opacity=0,b.animate(d,a.speed,a.easing,function(){b.hide()}),d={},c.isFunction(a.callback)&&a.callback.call(g)};c.fn.bart=function(i){g=c(this);a=c.extend({},n,i);c("#bart_wrapper").length?(l(b),l(h),b.removeAttr("style")):(c("<div>").attr("id","bart_wrapper").appendTo("body"),c("<span>").attr("id","bart_icon").appendTo("#bart_wrapper"),c("<img>").appendTo("#bart_icon"),c("<h3>").attr("id","bart_title").insertAfter("#bart_icon"),c("<span>").attr("id","bart_text").appendTo("#bart_wrapper"),
c("<span>").attr("id","bart_close").prependTo("#bart_wrapper"),c("<img>").attr("src",a.imgDir+"close.png").appendTo("#bart_close"),c("#bart_close").click(function(){m()}));b=c("#bart_wrapper");j=c("#bart_text");h=c("#bart_icon");k=c("#bart_title");b.addClass("bart_"+a.type).addClass("bart_"+a.style);a.animate||b.addClass("bart_noAnimate");j.html(a.message);h.find("img").attr("src",a.imgDir+a.style+".png");k.text(a.title);e=b.height();f=b.width();if(a.type=="modal"){var i=parseInt(f/2,10),o=parseInt(e/
2,10);b.css({top:"50%",left:"50%","margin-left":"-"+i+"px","margin-top":"-"+o+"px"})}else isNaN(a.vposition)?a.slide=="vertical"?b.css(a.vposition,"-"+e+"px"):b.css(a.vposition,0):(b.css("top",a.vposition+"px"),a.vposition="top"),isNaN(a.hposition)?a.slide=="horizontal"?b.css(a.hposition,"-"+f+"px"):b.css(a.hposition,0):(b.css("left",a.hposition+"px"),a.vposition="left"),a.slide=="vertical"?d[a.vposition]=0:d[a.hposition]=0;d.opacity=a.opacity;c.isEmptyObject(a.css)||b.css(a.css);b.show().animate(d,
a.speed,a.easing);a.sticky||setTimeout(function(){m()},a.duration);return g}})(jQuery);
